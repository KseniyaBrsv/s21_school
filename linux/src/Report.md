Part 1. Установка ОС
------------------------
![OS](Screenshots/2.png)  
Установленная версия Ubuntu 20.04 Server LTS без графического интерфейса.

Part 2. Создание пользователя
-----------------------------------
* Команды для создания пользователя и добавления его в группу adm.  
![add_new_user](Screenshots/3.png)  

* Вывод команды cat /etc/passwd.  
![cat_etc_passwd](Screenshots/3.1.png)  

Part 3. Настройка сети ОС
-----------------------------------
* Задать название машины вида user-1.  
![add_new_user](Screenshots/5.png)

* Установить временную зону, соответствующую вашему текущему местоположению.
С помощью команды sudo timedatectl set-timezone Europe/Moscow установила нужную временную зону.  
![time_zone](Screenshots/6.png)

* Вывести названия сетевых интерфейсов с помощью консольной команды.  
![net_interfaces](Screenshots/7.png)

Loopback Interface - на Unix-like системах lo или lo0 - виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине.  

* Используя консольную команду, получить ip адрес устройства, на котором вы работаете, от DHCP сервера.  
![gw_DHCP](Screenshots/8.png)

DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) — прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.  

* Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).  

![ip_DHCP](Screenshots/9.png)  
внешний ip-адрес шлюза  

![gw_DHCP](Screenshots/8.png)
gw: 10.0.2.2    

* Задать статичные настройки ip, gw, dns.  
C помощью команды sudo nano /etc/netplan/00-name-1.yaml вношу в соответствующий файл следующие настройки:  
![static_DHCP](Screenshots/10.png)  
В настройках VB выбираю тип подключения "внутренняя сеть".  
Затем команда sudo netplan try

* Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
![static_ip_after_reboot_DHCP](Screenshots/11.png)  

* Успешно пропинговать удаленные хосты 1.1.1.1 и ya.ru.  
![ping](Screenshots/12.png) 

Part 4. Обновление ОС
----------------------------------------
Были использованы команды:  
sudo apt update  
sudo apt upgrade  
sudo apt autoremove  
sudo apt dist-upgrade  
sudo reboot  
sudo do-release-upgrade
![OS_update](Screenshots/13.png)  

Part 5. Использование команды sudo
----------------------------------------
Команда sudo (substitute user and do, подменить пользователя и выполнить) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root.

* Разрешить пользователю, созданному в Part 2, выполнять команду sudo.  
Команда sudo adduser pir sudo, затем:    

![sudo-pir](Screenshots/14.png)  

Part 6. Установка и настройка службы времени
------------------------------------------
![date](Screenshots/15.png)  
Для автоматической настройки времени я:  
* отключила стандартную утилиту командами   
sudo systemctl stop systemd-timesyncd   
sudo systemctl disable systemd-timesyncd  

* установила NTP  
sudo apt-get install ntp  
и перезагрузила систему  

![set-time](Screenshots/16.png)  

Part 7. Установка и использование текстовых редакторов
--------------------------------------------------
Создала 3 файла  
![3_test_txt](Screenshots/17.0.png)  

* Выйти  и сохранить изменения  

![vim-1](Screenshots/17.png)  
VIM: :wq    

![nano-1](Screenshots/18.png)  
NANO: Ctrl+OX  

![joe-1](Screenshots/19.png)  
JOE: Ctrl+KX

* Редактировать и выйти без изменения  

![vim-1](Screenshots/20.png)  
VIM: :q!  

![nano-1](Screenshots/21.png)  
NANO: Ctrl+X и после запроса не сохранять изменения.  

![joe-1](Screenshots/22.png)  
JOE: Ctrl+С  

* Редактировать и выйти без изменения  

![vim-2](Screenshots/20.png)  
VIM: :q!  

![nano-2](Screenshots/21.png)  
NANO: Ctrl+X и после запроса не сохранять изменения.  

![joe-2](Screenshots/22.png)  
JOE: Ctrl+С  

* Поиск и замена слова  

![vim-3](Screenshots/23.png)  
VIM поиск  

![vim-4](Screenshots/24.png)  
VIM замена

![nano-3](Screenshots/25.png)  
NANO: Ctrl+W поиск (слова dom).  

![nano-4](Screenshots/26.png)  
NANO: Alt+R вызов команды замены.  

![joe-1](Screenshots/27.png)  
JOE: Ctrl+KF поиск.  

![joe-1](Screenshots/28.png)  
JOE: после ввода команды поиска выбрать R-Replace, и заменится слово, которое искали.    

Part 8. Установка и базовая настройка сервиса SSHD
---------------------------------------------------
* Установить службу SSHd.  
sudo apt-get install openssh-server  
* Добавить автостарт.  

sudo systemctl enable ssh  

Подключаемся по ssh: ssh ubuntu@hostname-pir 

* Перенастроить службу SSHd на порт 2022.  
С помощью команды sudo nano /etc/ssh/sshd-config  меняем соответствующую строку на "Port 2022"  
![ssh](Screenshots/29.png)  

* Используя команду ps, показать наличие процесса sshd.  
![ps](Screenshots/30.png)  

**Используем команду ps axvf | grep sshd**  
Значение ps - отображение текущих процессов на экране пользователя.  
ax - показать все процессы.  
-f - полноформатный вывод (отвечает за форматирование).   
-v - показывает формат виртуальной памяти.  
grep sshd - находит на вводе строки регулярное выражение sshd и выводит их.  

* Перезагрузить систему.  
sudo systemctl restart ssh  

* Вывод команды netstat -tan  
![netstat](Screenshots/31.png)  
-n - Отображение адресов и номеров портов в числовом формате.  
-a - Отображение всех подключений и ожидающих портов.  
-t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных.  
**Proto:** Протокол (tcp, udp, raw), используемый сокетом.  
**Recv-Q:** Счётчик байтов, не скопированных программой пользователя из этого сокета.  
**Send-Q:** Счётчик байтов, не подтверждённых удалённым узлом.  
**Local Address:** Адрес и номер порта локального конца сокета.  
**Foreign Address:** Адрес и номер порта удалённого конца сокета.  
**State:** Состояние сокета.  

**IP-адрес 0.0.0.0** — это немаршрутизируемый адрес IPv4, который можно использовать в разных целях, в основном, в качестве адреса по умолчанию или адреса-заполнителя. Он не является адресом какого-либо устройства.  

Part 9. Установка и использование утилит top, htop
---------------------------------------------------
* Команда top  
![top](Screenshots/32.png)  
**uptime:** 1:46  
**количество авторизованных пользователей:** 3  
**общая загрузку системы:** 0.15, 0.06, 0.01 (через 1, 5 и 15 минут)  
**общее количество процессов:** 131  
**загрузка cpu:**  0.0 us и т.д.  
**загрузка памяти:**  3925.5  
**pid процесса занимающего больше всего памяти:** 1682 
**pid процесса, занимающего больше всего процессорного времени:** 0.3  

* Команда htop  
![htop-1](Screenshots/33.png)  
Сортировка по PID  

![htop-2](Screenshots/34.png)  
Сортировка по PERCENT_CPU  

![htop-3](Screenshots/35.png)  
Сортировка по PERCENT_MEM  

![htop-4](Screenshots/36.png)  
Сортировка по TIME  

![htop-5](Screenshots/37.png)  
Отфильтрованному для процесса sshd для процесса sshd  

![htop-5](Screenshots/38.png)  
С процессом syslog, найденным, используя поиск  

![htop-5](Screenshots/39.png)  
С добавленным выводом hostname, clock и uptime  

Part 10. Использование утилиты fdisk
---------------------------------------------
Запустила команду fdisk -l
![fdisk-2](Screenshots/40.png)  
Название жесткого диска: VBOX HARDDISK, его размер: 80 GB, количество секторов: 3.  

Part 11. Использование утилиты df
-----------------------------------------
![df](Screenshots/41.png)  
* **df**  
Единица измерения в выводе: KВ.  

* **df -Th**  
Тип файловой системы для раздела: ext4.  

Part 12. Использование утилиты du
----------------------------------------
![du](Screenshots/42.png)  
Вывод команды **du**.  

![du_folders_1](Screenshots/43.png)
![du_folders_2](Screenshots/43.1.png)  
Общий размер папок /home, /var, /var/log. Чтобы вывести размер папок внутри этих папок, использовались те же команды без -s.   

![/var/log](Screenshots/44.png)  
Размер всего содержимого в /var/log.  

Part 13. Установка и использование утилиты ncdu
---------------------------------------------
![/home](Screenshots/45.png)  
Размер папки /home.  

![/var](Screenshots/46.png)  
Размер папки /var.  

![/var/log_ncdu](Screenshots/47.png)  
Размер папки /var/log.  

Part 14. Работа с системными журналами
-------------------------------------------
![login_method](Screenshots/49.png)  
* Время последней успешной авторизации: 15:24, имя пользователя: ubuntu и метод входа в систему: авторизация с помощью пароля (значение tty2).  

* Перезапустить службу SSHd.  
Команда sudo systemctl restart ssh  
![restart_ssh](Screenshots/50.png)  

Part 15. Использование планировщика заданий CRON
---------------------------------------------------
Командой sudo systemctl enable cron задаем работу CRON в фоновом режиме.  

![CRON](Screenshots/48.png)  
Содержимое журнала /var/log/syslog со строчками о выполнении команды uptime каждые 2 минуты.  

crontab -l - вывести экран список текущих заданий для CRON, crontab -e - редактирование файла с задачами (результат редактирования ниже).  

![CRON_plan](Screenshots/51.png)  



